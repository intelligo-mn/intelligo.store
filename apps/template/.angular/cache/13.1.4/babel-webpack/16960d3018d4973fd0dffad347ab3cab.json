{"ast":null,"code":"/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n(function (window, factory) {\n  // universal module definition\n\n  /*jshint strict: false */\n\n  /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['desandro-matches-selector/matches-selector'], function (matchesSelector) {\n      return factory(window, matchesSelector);\n    });\n  } else if (typeof module == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('desandro-matches-selector'));\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(window, window.matchesSelector);\n  }\n})(window, function factory(window, matchesSelector) {\n  'use strict';\n\n  var utils = {}; // ----- extend ----- //\n  // extends objects\n\n  utils.extend = function (a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n\n    return a;\n  }; // ----- modulo ----- //\n\n\n  utils.modulo = function (num, div) {\n    return (num % div + div) % div;\n  }; // ----- makeArray ----- //\n\n\n  var arraySlice = Array.prototype.slice; // turn element or nodeList into an array\n\n  utils.makeArray = function (obj) {\n    if (Array.isArray(obj)) {\n      // use object if already an array\n      return obj;\n    } // return empty array if undefined or null. #6\n\n\n    if (obj === null || obj === undefined) {\n      return [];\n    }\n\n    var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n\n    if (isArrayLike) {\n      // convert nodeList to array\n      return arraySlice.call(obj);\n    } // array of single index\n\n\n    return [obj];\n  }; // ----- removeFrom ----- //\n\n\n  utils.removeFrom = function (ary, obj) {\n    var index = ary.indexOf(obj);\n\n    if (index != -1) {\n      ary.splice(index, 1);\n    }\n  }; // ----- getParent ----- //\n\n\n  utils.getParent = function (elem, selector) {\n    while (elem.parentNode && elem != document.body) {\n      elem = elem.parentNode;\n\n      if (matchesSelector(elem, selector)) {\n        return elem;\n      }\n    }\n  }; // ----- getQueryElement ----- //\n  // use element as selector string\n\n\n  utils.getQueryElement = function (elem) {\n    if (typeof elem == 'string') {\n      return document.querySelector(elem);\n    }\n\n    return elem;\n  }; // ----- handleEvent ----- //\n  // enable .ontype to trigger from .addEventListener( elem, 'type' )\n\n\n  utils.handleEvent = function (event) {\n    var method = 'on' + event.type;\n\n    if (this[method]) {\n      this[method](event);\n    }\n  }; // ----- filterFindElements ----- //\n\n\n  utils.filterFindElements = function (elems, selector) {\n    // make array of elems\n    elems = utils.makeArray(elems);\n    var ffElems = [];\n    elems.forEach(function (elem) {\n      // check that elem is an actual element\n      if (!(elem instanceof HTMLElement)) {\n        return;\n      } // add elem if no selector\n\n\n      if (!selector) {\n        ffElems.push(elem);\n        return;\n      } // filter & find items if we have a selector\n      // filter\n\n\n      if (matchesSelector(elem, selector)) {\n        ffElems.push(elem);\n      } // find children\n\n\n      var childElems = elem.querySelectorAll(selector); // concat childElems to filterFound array\n\n      for (var i = 0; i < childElems.length; i++) {\n        ffElems.push(childElems[i]);\n      }\n    });\n    return ffElems;\n  }; // ----- debounceMethod ----- //\n\n\n  utils.debounceMethod = function (_class, methodName, threshold) {\n    threshold = threshold || 100; // original method\n\n    var method = _class.prototype[methodName];\n    var timeoutName = methodName + 'Timeout';\n\n    _class.prototype[methodName] = function () {\n      var timeout = this[timeoutName];\n      clearTimeout(timeout);\n      var args = arguments;\n\n      var _this = this;\n\n      this[timeoutName] = setTimeout(function () {\n        method.apply(_this, args);\n        delete _this[timeoutName];\n      }, threshold);\n    };\n  }; // ----- docReady ----- //\n\n\n  utils.docReady = function (callback) {\n    var readyState = document.readyState;\n\n    if (readyState == 'complete' || readyState == 'interactive') {\n      // do async to allow for other scripts to run. metafizzy/flickity#441\n      setTimeout(callback);\n    } else {\n      document.addEventListener('DOMContentLoaded', callback);\n    }\n  }; // ----- htmlInit ----- //\n  // http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\n\n\n  utils.toDashed = function (str) {\n    return str.replace(/(.)([A-Z])/g, function (match, $1, $2) {\n      return $1 + '-' + $2;\n    }).toLowerCase();\n  };\n\n  var console = window.console;\n  /**\n   * allow user to initialize classes via [data-namespace] or .js-namespace class\n   * htmlInit( Widget, 'widgetName' )\n   * options are parsed from data-namespace-options\n   */\n\n  utils.htmlInit = function (WidgetClass, namespace) {\n    utils.docReady(function () {\n      var dashedNamespace = utils.toDashed(namespace);\n      var dataAttr = 'data-' + dashedNamespace;\n      var dataAttrElems = document.querySelectorAll('[' + dataAttr + ']');\n      var jsDashElems = document.querySelectorAll('.js-' + dashedNamespace);\n      var elems = utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));\n      var dataOptionsAttr = dataAttr + '-options';\n      var jQuery = window.jQuery;\n      elems.forEach(function (elem) {\n        var attr = elem.getAttribute(dataAttr) || elem.getAttribute(dataOptionsAttr);\n        var options;\n\n        try {\n          options = attr && JSON.parse(attr);\n        } catch (error) {\n          // log error, do not initialize\n          if (console) {\n            console.error('Error parsing ' + dataAttr + ' on ' + elem.className + ': ' + error);\n          }\n\n          return;\n        } // initialize\n\n\n        var instance = new WidgetClass(elem, options); // make available via $().data('namespace')\n\n        if (jQuery) {\n          jQuery.data(elem, namespace, instance);\n        }\n      });\n    });\n  }; // -----  ----- //\n\n\n  return utils;\n});","map":{"version":3,"sources":["/home/turtuvshin/Learn/grocery/apps/template/node_modules/fizzy-ui-utils/utils.js"],"names":["window","factory","define","amd","matchesSelector","module","exports","require","fizzyUIUtils","utils","extend","a","b","prop","modulo","num","div","arraySlice","Array","prototype","slice","makeArray","obj","isArray","undefined","isArrayLike","length","call","removeFrom","ary","index","indexOf","splice","getParent","elem","selector","parentNode","document","body","getQueryElement","querySelector","handleEvent","event","method","type","filterFindElements","elems","ffElems","forEach","HTMLElement","push","childElems","querySelectorAll","i","debounceMethod","_class","methodName","threshold","timeoutName","timeout","clearTimeout","args","arguments","_this","setTimeout","apply","docReady","callback","readyState","addEventListener","toDashed","str","replace","match","$1","$2","toLowerCase","console","htmlInit","WidgetClass","namespace","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","concat","dataOptionsAttr","jQuery","attr","getAttribute","options","JSON","parse","error","className","instance","data"],"mappings":"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","sourcesContent":["/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n"]},"metadata":{},"sourceType":"script"}