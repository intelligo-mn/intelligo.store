{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Observable_1 = require(\"../Observable\");\n\nvar async_1 = require(\"../scheduler/async\");\n\nvar isNumeric_1 = require(\"../util/isNumeric\");\n\nvar isScheduler_1 = require(\"../util/isScheduler\");\n\nfunction timer(dueTime, periodOrScheduler, scheduler) {\n  if (dueTime === void 0) {\n    dueTime = 0;\n  }\n\n  var period = -1;\n\n  if (isNumeric_1.isNumeric(periodOrScheduler)) {\n    period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n  } else if (isScheduler_1.isScheduler(periodOrScheduler)) {\n    scheduler = periodOrScheduler;\n  }\n\n  if (!isScheduler_1.isScheduler(scheduler)) {\n    scheduler = async_1.async;\n  }\n\n  return new Observable_1.Observable(function (subscriber) {\n    var due = isNumeric_1.isNumeric(dueTime) ? dueTime : +dueTime - scheduler.now();\n    return scheduler.schedule(dispatch, due, {\n      index: 0,\n      period: period,\n      subscriber: subscriber\n    });\n  });\n}\n\nexports.timer = timer;\n\nfunction dispatch(state) {\n  var index = state.index,\n      period = state.period,\n      subscriber = state.subscriber;\n  subscriber.next(index);\n\n  if (subscriber.closed) {\n    return;\n  } else if (period === -1) {\n    return subscriber.complete();\n  }\n\n  state.index = index + 1;\n  this.schedule(state, period);\n}","map":{"version":3,"sources":["/home/turtuvshin/Learn/grocery/node_modules/rxjs/internal/observable/timer.js"],"names":["Object","defineProperty","exports","value","Observable_1","require","async_1","isNumeric_1","isScheduler_1","timer","dueTime","periodOrScheduler","scheduler","period","isNumeric","Number","isScheduler","async","Observable","subscriber","due","now","schedule","dispatch","index","state","next","closed","complete"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,oBAAD,CAArB;;AACA,IAAIE,WAAW,GAAGF,OAAO,CAAC,mBAAD,CAAzB;;AACA,IAAIG,aAAa,GAAGH,OAAO,CAAC,qBAAD,CAA3B;;AACA,SAASI,KAAT,CAAeC,OAAf,EAAwBC,iBAAxB,EAA2CC,SAA3C,EAAsD;AAClD,MAAIF,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,IAAAA,OAAO,GAAG,CAAV;AAAc;;AACxC,MAAIG,MAAM,GAAG,CAAC,CAAd;;AACA,MAAIN,WAAW,CAACO,SAAZ,CAAsBH,iBAAtB,CAAJ,EAA8C;AAC1CE,IAAAA,MAAM,GAAGE,MAAM,CAACJ,iBAAD,CAAN,GAA4B,CAA5B,IAAiC,CAAjC,IAAsCI,MAAM,CAACJ,iBAAD,CAArD;AACH,GAFD,MAGK,IAAIH,aAAa,CAACQ,WAAd,CAA0BL,iBAA1B,CAAJ,EAAkD;AACnDC,IAAAA,SAAS,GAAGD,iBAAZ;AACH;;AACD,MAAI,CAACH,aAAa,CAACQ,WAAd,CAA0BJ,SAA1B,CAAL,EAA2C;AACvCA,IAAAA,SAAS,GAAGN,OAAO,CAACW,KAApB;AACH;;AACD,SAAO,IAAIb,YAAY,CAACc,UAAjB,CAA4B,UAAUC,UAAV,EAAsB;AACrD,QAAIC,GAAG,GAAGb,WAAW,CAACO,SAAZ,CAAsBJ,OAAtB,IACJA,OADI,GAEH,CAACA,OAAD,GAAWE,SAAS,CAACS,GAAV,EAFlB;AAGA,WAAOT,SAAS,CAACU,QAAV,CAAmBC,QAAnB,EAA6BH,GAA7B,EAAkC;AACrCI,MAAAA,KAAK,EAAE,CAD8B;AAC3BX,MAAAA,MAAM,EAAEA,MADmB;AACXM,MAAAA,UAAU,EAAEA;AADD,KAAlC,CAAP;AAGH,GAPM,CAAP;AAQH;;AACDjB,OAAO,CAACO,KAAR,GAAgBA,KAAhB;;AACA,SAASc,QAAT,CAAkBE,KAAlB,EAAyB;AACrB,MAAID,KAAK,GAAGC,KAAK,CAACD,KAAlB;AAAA,MAAyBX,MAAM,GAAGY,KAAK,CAACZ,MAAxC;AAAA,MAAgDM,UAAU,GAAGM,KAAK,CAACN,UAAnE;AACAA,EAAAA,UAAU,CAACO,IAAX,CAAgBF,KAAhB;;AACA,MAAIL,UAAU,CAACQ,MAAf,EAAuB;AACnB;AACH,GAFD,MAGK,IAAId,MAAM,KAAK,CAAC,CAAhB,EAAmB;AACpB,WAAOM,UAAU,CAACS,QAAX,EAAP;AACH;;AACDH,EAAAA,KAAK,CAACD,KAAN,GAAcA,KAAK,GAAG,CAAtB;AACA,OAAKF,QAAL,CAAcG,KAAd,EAAqBZ,MAArB;AACH","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar async_1 = require(\"../scheduler/async\");\nvar isNumeric_1 = require(\"../util/isNumeric\");\nvar isScheduler_1 = require(\"../util/isScheduler\");\nfunction timer(dueTime, periodOrScheduler, scheduler) {\n    if (dueTime === void 0) { dueTime = 0; }\n    var period = -1;\n    if (isNumeric_1.isNumeric(periodOrScheduler)) {\n        period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n    }\n    else if (isScheduler_1.isScheduler(periodOrScheduler)) {\n        scheduler = periodOrScheduler;\n    }\n    if (!isScheduler_1.isScheduler(scheduler)) {\n        scheduler = async_1.async;\n    }\n    return new Observable_1.Observable(function (subscriber) {\n        var due = isNumeric_1.isNumeric(dueTime)\n            ? dueTime\n            : (+dueTime - scheduler.now());\n        return scheduler.schedule(dispatch, due, {\n            index: 0, period: period, subscriber: subscriber\n        });\n    });\n}\nexports.timer = timer;\nfunction dispatch(state) {\n    var index = state.index, period = state.period, subscriber = state.subscriber;\n    subscriber.next(index);\n    if (subscriber.closed) {\n        return;\n    }\n    else if (period === -1) {\n        return subscriber.complete();\n    }\n    state.index = index + 1;\n    this.schedule(state, period);\n}\n"]},"metadata":{},"sourceType":"script"}